"use strict";(self.webpackChunkstarcoin_cookbook=self.webpackChunkstarcoin_cookbook||[]).push([[1936],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=o,k=d["".concat(s,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1737:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=["components"],l={},s="How to participate in the main network",c={unversionedId:"getting-started/setup/main-network",id:"getting-started/setup/main-network",title:"How to participate in the main network",description:"Introduction",source:"@site/docs/02-getting-started/02-setup/06-main-network.md",sourceDirName:"02-getting-started/02-setup",slug:"/getting-started/setup/main-network",permalink:"/starcoin-cookbook/docs/getting-started/setup/main-network",editUrl:"https://github.com/starcoinorg/starcoin-cookbook/edit/main/docs/02-getting-started/02-setup/06-main-network.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How to sync the block and state faster",permalink:"/starcoin-cookbook/docs/getting-started/setup/fast-sync-data"},next:{title:"Creating your own private Starcoin network",permalink:"/starcoin-cookbook/docs/getting-started/setup/private-network"}},p={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Windows joins main network",id:"windows-joins-main-network",level:2},{value:"Linux joins main network (recommendation)",id:"linux-joins-main-network-recommendation",level:2},{value:"Docker joins main network",id:"docker-joins-main-network",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-participate-in-the-main-network"},"How to participate in the main network"),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"On May 18, 2021, Starcoin held a global press conference, and under the spotlight, announced the launch of the main network.\nThis is a milestone moment, which means that the ship Starcoin has officially set sail in the blue ocean of blockchain."),(0,r.kt)("h2",{id:"windows-joins-main-network"},"Windows joins main network"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1. Start")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin.exe --net main ^\n    --disable-metrics true ^\n    --node-name starcoin-main ^\n    --data-dir D:\\starcoin\\data ^\n    --logger-disable-file true ^\n    --stratum-address 0.0.0.0 --stratum-port 9880\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--net"),": Specifies the network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--disable-metrics"),": Whether to disable the metrics monitoring service, ",(0,r.kt)("inlineCode",{parentName:"li"},"true")," to disable, ",(0,r.kt)("inlineCode",{parentName:"li"},"false")," not to disable."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--node-name"),": The node name is only used for display. You can choose a unique name according to your own preferences. If not specified, it will be randomly generated."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--data-dir"),": The data storage directory, it is recommended to choose a path that is easy to find."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--logger-disable-file"),": Whether to disable the file log collector, ",(0,r.kt)("inlineCode",{parentName:"li"},"true")," to disable, ",(0,r.kt)("inlineCode",{parentName:"li"},"false")," not to disable."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--stratum-address"),": Specify the address of the mining pool, the default is ",(0,r.kt)("inlineCode",{parentName:"li"},"0.0.0.0"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--stratum-port"),": Specify the port number of the mining pool, the default is ",(0,r.kt)("inlineCode",{parentName:"li"},"9880"),".")),(0,r.kt)("p",null,"After entering the above command in the cmd window of Windows, press Enter, and the node will start to synchronize the block data, just wait for the synchronization to complete."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2. View the IPC file path")),(0,r.kt)("p",null,"Drag the sidebar to the top with the mouse, and you can see that the output shows the storage path of the IPC file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'2022-05-23T16:40:06.642907500+08:00 INFO - Ipc file path: "\\\\\\\\.\\\\pipe\\\\starcoin\\\\main\\\\starcoin.ipc\n\n# IPC file path is:\n\\\\\\\\.\\\\pipe\\\\starcoin\\\\main\\\\starcoin.ipc\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"3. View node synchronization progress")),(0,r.kt)("p",null,"If you want to know the progress of the node synchronization data, you can open a new cmd window at this time and use the IPC file to connect to the Starcoin console:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin.exe -c \\\\.\\pipe\\starcoin\\main\\starcoin.ipc console\n")),(0,r.kt)("p",null,"In the Starcoin console enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"node sync status\n")),(0,r.kt)("p",null,"Some key information can be found in the output JSON data.\nThe synchronization is completed when ",(0,r.kt)("inlineCode",{parentName:"p"},"chain_status.head.number")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"state.Synchronizing.target.number")," are equal."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"4. View default account")),(0,r.kt)("p",null,"Each newly started node is initialized with a default account with an empty password."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# View the default account and find the account address\naccount default\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"5. Export the private key of the default account")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"account export <ADDRESS>\n")),(0,r.kt)("p",null,"Note: Please keep the private key safe!"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"6. Exit the console")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"exit\n")),(0,r.kt)("h2",{id:"linux-joins-main-network-recommendation"},"Linux joins main network (recommendation)"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1. Start")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"starcoin")," command uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"main")," network by default, the mining client is disabled by default, the mining pool is not listened by default, and the data directory defaults to ",(0,r.kt)("inlineCode",{parentName:"p"},".starcoin/main")," under the main directory."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'# Data directory, ubuntu is the username of the demo, please change it according to your actual situation\n2022-05-24T10:07:29.069207121+08:00 INFO - Final data-dir is : "/home/ubuntu/.starcoin/main"\n\n# IPC file path\n2022-05-24T10:07:29.061062410+08:00 INFO - Ipc file path: "/home/ubuntu/.starcoin/main/starcoin.ipc"\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2. View node synchronization progress")),(0,r.kt)("p",null,"Open a new command line window and enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin -c ~/.starcoin/main/starcoin.ipc console\n")),(0,r.kt)("p",null,"In the Starcoin console enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"node sync status\n")),(0,r.kt)("p",null,"Some key information can be found in the output JSON data.\nThe synchronization is completed when ",(0,r.kt)("inlineCode",{parentName:"p"},"chain_status.head.number")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"state.Synchronizing.target.number")," are equal."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"3. View default account")),(0,r.kt)("p",null,"Each newly started node is initialized with a default account with an empty password."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# View the default account and find the account address\naccount default\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"4. Export the private key of the default account")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"account export <ADDRESS>\n")),(0,r.kt)("p",null,"Note: Please keep the private key safe!"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"5. Exit the console")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"exit\n")),(0,r.kt)("h2",{id:"docker-joins-main-network"},"Docker joins main network"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"1. Pull the ",(0,r.kt)("a",{parentName:"strong",href:"https://hub.docker.com/r/starcoin/starcoin/"},"Docker image"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker pull starcoin/starcoin:latest\n")),(0,r.kt)("p",null,"If you want to use a specific version, you can change the pull tag, such as ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.11.9"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker pull starcoin/starcoin:v1.11.9\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"2. Start")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"starcoin")," binaries are in the ",(0,r.kt)("inlineCode",{parentName:"p"},"/starcoin")," directory in the mirror."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run --name starcoin -v ~/.starcoin/:/root/.starcoin/ --network host starcoin/starcoin:latest /starcoin/starcoin\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--name"),": Specifies the container name."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-v"),": Bind mounted volume for persisting data in Docker."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--network"),": Let the network of the Docker container be attached to the host, and the two can communicate with each other.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"3. Connect to the Starcoin console via Docker")),(0,r.kt)("p",null,"Open a new command line window and enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run --rm -it -v ~/.starcoin/:/root/.starcoin/ starcoin/starcoin:latest /starcoin/starcoin -c /root/.starcoin/main/starcoin.ipc console\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--rm"),": Automatically remove the container when exiting the Starcoin console."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-it"),": Enter the container interactively, assigning a pseudo terminal.")),(0,r.kt)("p",null,"If you don't want to start a new container, you can directly access the container that started Starcoin:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker container exec -it starcoin bash\n\n/starcoin/starcoin -c /root/.starcoin/main/starcoin.ipc console\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"4. View node synchronization progress")),(0,r.kt)("p",null,"Open a new command line window and enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin -c ~/.starcoin/main/starcoin.ipc console\n")),(0,r.kt)("p",null,"In the Starcoin console enter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"node sync status\n")),(0,r.kt)("p",null,"Some key information can be found in the output JSON data.\nThe synchronization is completed when ",(0,r.kt)("inlineCode",{parentName:"p"},"chain_status.head.number")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"state.Synchronizing.target.number")," are equal."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"5. View default account")),(0,r.kt)("p",null,"Each newly started node is initialized with a default account with an empty password."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# View the default account and find the account address\naccount default\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"6. Export the private key of the default account")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"account export <ADDRESS>\n")),(0,r.kt)("p",null,"Note: Please keep the private key safe!"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"7. Exit the console")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"exit\n")))}m.isMDXComponent=!0}}]);